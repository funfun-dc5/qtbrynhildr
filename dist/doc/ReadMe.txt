
**************************************************************************
正式なマニュアルは整備中です。しばらくはこのReadMe.txtも参照ください。
**************************************************************************

----------------------------------------------------------------------
 Qt Brynhildr について
----------------------------------------------------------------------
==============================
 [最初に]
==============================
 このソフトウェアは仕様の公開されているパブリックモードで動作させた
 Brynhildrサーバに接続するためのクライアントソフトウェアです。

 今の所サーバ機能は持っていませんので、サーバとしてはBrynhildr(最新を推奨)を
 ご利用ください。

 ファイルの送受信、クリップボードの共有を行うにはパブリックモード6をサポートした
 Brynhildr2が必要になります。古いサーバについて、これらの機能が必要な場合はBrynhildrの
 クライアントモードをご利用ください。

 (*1) Brynhildrの標準のクライアントモードに対して大きなアドバンテージのある
      クライアントではありませんのでご承知おきください。
      このソフトウェアはより多くの環境(OS)でBrynhildrのリモートコントロール機能を
      利用できるようにすることを主たる目的としています。(あと作者の勉強のため…)

      また、パブリックモードでは通常のモードに比べてセキュリティレベルが低下します。
      重要な操作を行うような場合は通信路の暗号化などの対策を検討したほうがよいかも
      しれません。

 (*2) このドキュメントはすでにBrynhildrによるリモートデスクトップ環境を
      構築済みの方の利用を想定しています。

 (*3) Siegfriedのパブリックモードにも対応しています。
      その場合"brynhildr.ini"は"siegfried.ini"と読み替えてください。
      (SiegfriedはBrynhildr2に統合されました)

==============================
 [対応OS]
==============================

[Windows版(64bit/32bit)]

 Windows XP以降

[Linux版(x64/x86)]

 Ubuntu 14.04 LTS以降 (x64/x86)
 CentOS 7 (x64)

[Mac版]

 Mac OS X 10.10(Yosemite)以降

 (*1) 全てのエディションで試したわけではありません。

 (*2) Qt5のサポートする環境(OS)で動作させられたらいいなぁと思っていますが、
      お約束は出来ません。
      例えばiOS, Android, Windows Phoneなどなどですが…

      Qt5のサポートする環境(OS)について詳しくは以下のページを御覧ください。
      http://doc.qt.io/QtSupportedPlatforms/index.html

==============================
 [テスト中の環境]
==============================

 Android       : なんとなく動くのを確認 (日本語、サウンド再生確認済み)
 FreeBSD       : なんとなく動くのを確認 (日本語、サウンド再生未確認)
 Cygwin        : パッケージに含まれるQt5.5.1でビルド、起動まで確認
 iOS           : iOSシミュレータでの起動まで確認
 Raspberry Pi2 : なんとなく動くのを確認 (日本語、サウンド再生確認済み)

----------------------------------------------------------------------
1-1. インストール (Windows版)
----------------------------------------------------------------------
==============================
[インストール]
==============================

 インストーラを実行してインストールしてください。設定はデフォルトのままを
 お勧めします。

==============================
[アンインストール]
==============================

「コントロールパネル」->「プログラムと機能」からアンインストールしてください。
 インストール/作成されたすべてのファイルが削除されます。レジストリは使用しません。

----------------------------------------------------------------------
1-2. インストール (Linux版)
----------------------------------------------------------------------
==============================
[インストール]
==============================

 (1) Qt5をインストールします。(すでにインストール済みの場合はスキップしてください)

 以下を環境に合わせてダウンロードします。

 [64bit]
 http://download.qt.io/archive/qt/5.7/5.7.0/qt-opensource-linux-x64-5.7.0.run

 [32bit]
 http://download.qt.io/archive/qt/5.4/5.4.2/qt-opensource-linux-x86-5.4.2.run

 root権限で実行してください、インストーラが表示されます。

 例)

 chmod 755 ./qt-opensource-linux-x64-5.7.0.run
 sudo ./qt-opensource-linux-x64-5.7.0.run

 (注) 上記をインストールしなくても起動することがありますが、メニューの場所が異なったり、
      文字化けが発生する可能性があります。

 (2) 自己解凍ファイルを実行してパッケージを展開します。

 例)

  chmod 500 ./QtBrynhildr-linux_x64-v100.run
  ./QtBrynhildr-linux_x64-v100.run

 (3) 起動確認します。

 [64bit]
 ./linux_x64/bin/QtBrynhildr

 [32bit]
 ./linux_x86/bin/QtBrynhildr

 (4) 起動して、エラーが出たら、必要なパッケージをインストールして、3)へ戻ります。
     ウィンドウが表示されたらすでに必要なパッケージはインストールされています。

  例えばlibglu1-mesaなどが必要かもしれません。以下のようにインストールしてください。

  [Ubuntuの場合]

  sudo apt-get install libglu1-mesa

  [エラーメッセージの例]
  QtBrynhildr: error while loading shared libraries: libGL.so.1: cannot open shared object file: No such file or directory

  [CentOSの場合]

  EPELリポジトリを追加(sudo yum install epel-release)して以下のパッケージを
  インストールしてください。

  sudo yum install libqtxdg-qt5
  sudo yum install qt5-qtmultimedia

==============================
[アンインストール]
==============================

 (1) 以下を削除してください。

  ~/.config/mcz-xoxoとlinux_x64/linux_x86以下

 (2) 気になる人はインストールした以下のパッケージもアンインストールしてください。

  (*) Qt5のアンインストール

     初期設定のままインストールすると"/opt/Qt5.x.x"の下に"MaintenanceTool"
     というプログラムがインストールされます。このプログラムを起動すればGUIで
     アンインストールを実行できます。

  (*) その他のパッケージのアンインストール

  [Ubuntuの場合]

  sudo apt-get remove libglu1-mesa
  sudo apt-get autoremove

----------------------------------------------------------------------
1-3. インストール (Mac版)
----------------------------------------------------------------------
==============================
[インストール]
==============================

 .dmgファイルをマウントし、QtBrynhildr.app を /Applications にコピーしてください。

==============================
[アンインストール]
==============================

 ~/.config/mcz-xoxoと/Applications/QtBrynhildr.app を削除してください。

----------------------------------------------------------------------
1-4. インストール (FreeBSD版)
----------------------------------------------------------------------
==============================
[インストール]
==============================

 (1) Qt5をインストールします。(すでにインストール済みの場合はスキップしてください)

  パッケージ qt5 をインストールします。

 例)

 sudo pkg install qt5

 (2) アーカイブファイルを展開します。

 例)

 tar xvfJ ./QtBrynhildr-freebsd_x64-v100.tar.xz

 (3) 起動確認します。

 [64bit]
 ./freebsd_x64/bin/QtBrynhildr

 [32bit]
 ./freebsd_x86/bin/QtBrynhildr

==============================
[アンインストール]
==============================

 (1) 以下を削除してください。

  ~/.config/mcz-xoxoとfreebsd_x64/freebsd_x86以下

 (2) 気になる人はインストールした以下のパッケージもアンインストールしてください。

  qt5

 例)

 sudo pkg delete qt5
 sudo pkg autoremove

----------------------------------------------------------------------
2. Brynhildrサーバの準備 (パブリックモードの有効化)
----------------------------------------------------------------------

**********************************************************************
(注) Brynhildr 1.1.0でパブリックモードは標準で有効となりました。
     ただし、1.0.7以前からお使いの場合は以下の(3)の確認が必要です。
     Brynhildr 1.1.0以降を0から導入した場合はすでに有効になっています。
**********************************************************************

 (1) サーバを実行中の場合は一旦サーバを終了させてください。

 (2) brynhildr.exeと同じフォルダーにあるbrynhildr.iniをエディタで開きます。

 (3) [ServerMode]セクションにある以下の設定を変更して保存します。

   publicmode=0 -> publicmode=1

 (4) brynhildr.exeをサーバモードで再び起動します。
     これでパブリックモードが有効となります。

 (*1) 確認の為Brynhildrサーバのログを出力させておくことをお勧めします。
      brynhildr.exeと同じフォルダにlog.txtというファイルを作成しておけば
      出力されるそうです。

 (*2) Siegfried(0.9.9以降)ではパブリックモードは標準で有効となっています。
      但し、siegfried.iniの設定がpublicmode=1となっていることを確認して下さい。

----------------------------------------------------------------------
3. Qt Brynhildr の動作確認
----------------------------------------------------------------------
==============================
 サーバへの接続
==============================

 (1) Qt Brynhildrを起動します。

 (2)「ファイル」メニューから「接続」を選んで、「サーバに接続」ダイアログを
     表示してください。

 (3) 必要な情報を入力してください。

   [1] 「ホスト名/IPアドレス」

      サーバ名もしくはIPアドレスを指定してください。

   [2] 「ホストタイプ」

      サーバOSを選択してください。

   [3] 「キーボードタイプ」

      サーバのキーボードタイプ(JP Keyboard(日本語キーボード)もしくは
      US Keyboard(英語キーボード))を選択してください。
      (英語キーボードはテストが十分ではありません…)

      Windows版のみ"Native Keyboard"を選択できます。サーバとクライアントのキーボードタイプが
      同じである必要がありますが、日本語および英語以外のサポートしていないキーボードを
      利用できます。

   [4] 「ポート番号」

      ポート番号を指定してください。

   [5] 「パスワード」

      パスワードを入力してください。(現在のところパスワードは終了時に保存されません)
      パブリックモードではパスワードは最長16文字までです。

   [6] 「パスワードを表示する」

      チェックを入れると入力中のパスワードを平文で表示するようになります。

   [7] 「フルスクリーンで開く」

      チェックを入れるとサーバ接続後にフルスクリーン化します。

  (4) 「OK」ボタンを押してサーバに接続してください。

==============================
 サーバからの切断
==============================

 (1) 終了する時は「ファイル」メニューから「終了」を選ぶか、ウィンドウの
     「X」ボタンを押してください。
     一時的にサーバから切断する場合は「ファイル」メニューから「切断」を選んでください。

 (2) 「確認」ダイアログが出るので、終了して良い場合には「OK」ボタンを押して
      Qt Brynhildrを終了してください。

      「次回も確認ダイアログを表示する」のチェックを外すと次回から「確認」ダイアログを
      表示せずにすぐに終了します。

==============================
 使い方
==============================

 (1) 「ファイル」メニュー

     [1] 接続

     サーバに接続するための「サーバに接続」ダイアログを表示します。

     [2] 切断

     サーバから切断します。

     [3] ファイルを転送

     ファイルをサーバに転送します。転送するファイルを選択するために「ファイル選択」
     ダイアログが表示されます。

     [4] 終了

     Qt Brynhildr を終了します。 「確認」ダイアログが表示されるので「OK」ボタンを押すと
     終了します。

 (2) 「表示」メニュー

     [1] メニューバーを表示

     メニューバーの表示のON/OFFを変更します。

     [2] ステータスバーを表示

     ステータスバーの表示のON/OFFを変更します。

     [3] フレームレートを表示

     フレームレート(FPSおよびデータレート)の表示のON/OFFを変更します。

     [4] ソフトウェア・キーボードを表示

     ソフトウェア・キーボードの表示のON/OFFを変更します。

     [5] ソフトウェア・ボタンを表示

     ソフトウェア・ボタンの表示のON/OFFを変更します。

     [6] 常に最前面に表示

     常に最前面に表示します。

     [7] フルスクリーンにする

     フルスクリーンにします。ESCキーで通常のウィンドウモードに戻ります。

 (3) 「ビデオ」メニュー

     [1] 画質選択

     デスクトップ画像の画質を変更します。画質を良くするとデスクトップ画面の
     更新が粗くなり、画質を低くすると比較的デスクトップ画面の更新がスムーズに
     なります。

     [2] フレームレート選択

     画面書き換えの頻度(FPS)の最大値(maxfps)を変更します。

     [3] デスクトップのスケーリング

     デスクトップ画像のスケールを変更するダイアログを表示します。
     スライダーにより変更して「OK」ボタンを押すと有効になります。
     スライダーは左右のカーソルキーでも変更できます。
     「キャンセル」ボタンを押すと変更が無効になり、以前のサイズとなります。
     「リセット」ボタンを押すと等倍サイズに戻ります。

     [4] デスクトップのキャプチャ

     デスクトップ画像をキャプチャします。保存される画像はスケーリング後の
     サイズになります。

     ホームディレクトリに"Desktopshot-YYYY-MM-DD-hh-mm-ss.jpg"のフォーマットで
     保存されます。保存場所/フォーマットは.iniを書き換えることにより変更できます。
     対応フォーマットは.bmp/.jpg/.png/.ppm/.xpmなどです。

     ".jpg"でなく"jpg"と指定するとスケーリング前のオリジナルサイズで保存されます。

 (4) 「サウンド」メニュー

     サウンドの音質を変更します。サンプリング周波数を変更することで転送する
     データ量を減らすことが出来ます。音質が変わらない場合もあります。

 (5) 「コントロール」メニュー

     [1] キーを送る

         以下の特殊キー（の組み合わせ）をサーバに送ります。

         (1) Alt キー + F4 キー

         (2) Ctrl キー + Esc キー

         (3) Windows キー

         (4) PrintScreen キー

         (5) Alt キー + PrintScreen キー

     [2] モニタの選択

         マルチモニタを利用している場合に操作対象とするモニタを変更します。
         モニタ1(メインモニタ)からモニタ9を選択します。
         1台しかモニタを接続していない場合は変更できません。

     [3] コントロール ON/OFF

         入力デバイス情報転送のON/OFFを変更します。OFFにするとキーボード/マウスの
         動きがサーバに送られません。
         サーバ画面の監視だけをしたい時にOFFにすればよいかもしれません。

     [4] グラフィックス ON/OFF

         デスクトップ画像転送のON/OFFを変更します。OFFにするとデスクトップ画像が
         更新されません。デスクトップ画像データの転送量を減少させます。
         OFFにするとコントロールも同時にOFFとなります。

     [5] サウンド ON/OFF

         サウンド情報転送のON/OFFを変更します。OFFにするとサウンド情報が
         転送されないため消音状態になります。

     [6] 記録と再生 (*)

         (1) 記録開始

           リモート操作の記録を開始します。

         (2) 記録終了

           リモート操作の記録を終了します。ファイルダイアログにより保存するファイルを
           指定します。

         (3) 再生

           リモート操作の再生を開始します。ファイルダイアログにより再生するファイルを
           指定します。

      (*) デスクトップ上の絶対座標でマウス位置を記録しているため操作するウィンドウの
          位置・サイズに依存するような操作は正しく再生できません。例えば、起動の度に
          ウィンドウ位置が変わったりすると押したいボタンが押せずにその後の操作が意味のない
          操作になる可能性があります。
          また、サーバの負荷によってウィンドウの表示タイミングなどがずれることで同様の現象
          となる可能性があります。

 (6) 「オプション」メニュー

     [1] モード

         (1) スクロールモード

           ONにするとカーソルキーでデスクトップがスクロールします。但し、このモードが
           有効な間はカーソルキーが使えないので、スクロール後はモードをOFFにする必要が
           あります。
           スクロール位置の設定は保存されますが、モードのON/OFFの設定は保存されません。

     [2] キーボードログ出力

         キーボードログ出力のON/OFFを変更します。

     [3] デバッグログ出力

         デバッグログ出力のON/OFFを変更します。デバッグ用の機能で将来残るかは
         未定です。

     [4] テスト中の機能

         テスト中の機能がない場合メニュー自体存在しない場合があります。

         現在テスト中の機能は以下です。

         **現在テスト中の機能はありません**

 (7) 「ヘルプ」メニュー

     [1] ログの表示

       Qt Brynhildr のログを表示します。

     [2] Qt Brynhildr について

       Qt Brynhildr についてバージョン情報などを表示します。

==================================
 ファイル転送とクリップボード共有
==================================

新たに公開されたパブリックモード6を利用して接続するとファイル転送機能と
クリップボード共有機能を使うことが出来ます。(*)

 (1) ファイル転送

 サーバ(Brynhildr2)からクライアント(Qt Brynhildr)へ、クライアントからサーバへ
 ファイルを転送できます。

  [1] サーバからクライアントへのファイル転送

  Brynhildr2のアイコンからメニューを表示させ「SendFile」を選択し、転送したい
  ファイルを指定します。初期設定ではQt Brynhildrはユーザーディレクトリの
  直下にファイルを保存します。

  [2] クライアントからサーバへのファイル転送

  「ファイル」メニューから「ファイルを転送」を選択し、転送したいファイルを
  指定します。初期設定ではBrynhildr2(brynhildr.exe)のあるフォルダの下に
  作成される"recv"フォルダ下に保存されます。

  (*1) ファイル転送中キーボード、マウス操作は出来ません。

  (*2) ドラッグ&ドロップによるファイル転送もサポートしています。
       設定ファイルを以下のように変更することで無効化出来ます。

       onDisableTransferFileByDragAndDrop=true

 (2) クリップボード共有

 サーバ、クライアントのクリップボード（テキストのみ)を共有できます。
 サーバ側でクリップボードを更新するとクライアント側のマシンの
 クリップボードも同様に更新されます。逆も同様です。


 (*) パブリックモード6でうまく動作しない場合は設定ファイルを
     以下のように変更することで従来の動作となります。

        publicModeVersion=5

     この場合ファイル転送、クリップボード共有機能は利用できません。

----------------------------------------------------------------------
4. Qt Brynhildr の設定の保存場所 (内部資料)
----------------------------------------------------------------------

アプリケーション用の設定は終了時に保存され、次回起動時に読み込まれます。
保存場所はプラットフォームによって異なります。

[Windows版]
ユーザフォルダの以下のファイルに保存されます。

C:\Users\ユーザ名\AppData\Roaming\mcz-xoxo\Qt Brynhildr.ini

[Linux/Mac/FreeBSD版]
ホームディレクトリの以下のファイルに保存されます。

~/.config/mcz-xoxo/Qt Brynhildr.ini

(*) 起動時に引数としてファイル名を渡すことで、任意のファイルを
    指定できます。「5. オプション」を参照してください。

============================================================
[内容の例]
============================================================

インタフェース検討中の設定はこれらの値を直接変更すれば変更可能です。
(*)内部保存情報なので直接変更は推奨はしません。

(注意)不正な値を設定すると起動しなくなる可能性があります。
      その場合はファイルを削除するか、-initオプションを指定して再起動すれば
      初期状態に戻ります。

      ファイルをコピーしておけば設定をバックアップすることもできます。

------------------- ここから -------------------
[General]
generatedVersion=150
currentVersion=153
publicModeVersion=6
serverName=mcz.world.idol.jp
serverType=5
keyboardType=0
portNo=55500
onControl=true
onHoldMouseControl=false
onExtraButtonSupport=true
onControlOffWithGraphicsOff=true
onGraphics=true
videoQuality=5
onSupportGamePad=true
onDisableBrynhildr2Support=false
frameRate=30
onSound=true
soundQuality=3
onKeepOriginalDesktopSize=true
desktopScalingFactor=1
desktopScalingQuality=1
desktopScalingType=0
onCutDesktopBlankArea=false
desktopOffsetX=0
desktopOffsetY=0
monitorNo=1
onConfirmAtExit=true
onSaveSettingsAtExit=false
onExitAfterReplay=false
onStaysOnTop=false
onFrameLessWindow=false
onShowMenuBar=true
onShowStatusBar=true
onFullScreenAtConnected=false
onHideMenuAndStatusBarAtFullScreen=true
onShowFrameRate=true
onShowPassword=false
onClipCursor=false
onDisableTransferFile=false
onShowTotalProgressForTransferFile=false
onDisableTransferFileByDragAndDrop=false
onDisableTransferClipboard=false
graphicsBufferSize=1048576
soundBufferSize=1048576
doubleClickThreshold=500
outputGraphicsDataToFile=false
outputSoundDataToFile=false
outputSoundDataToWavFile=false
outputLog=false
outputPath=C:\\Users\\funfun\\
logFile=D:\\tmp\\qtbrynhildr.log
keyboardLogFile=D:\\tmp\\keyboard.log
desktopCaptureFormat=.jpg
serverNameListSize=10
serverName0=mcz.world.idol.jp
serverName1=funfun-PC
serverName2=192.168.253.128
serverName3=
serverName4=
serverName5=
serverName6=
serverName7=
serverName8=
serverName9=
geometry=@Rect(200 200 800 600)
------------------- ここまで -------------------

----------------------------------------------------------------------
5. オプション
----------------------------------------------------------------------

 (0) -mode5/mode6オプション

 パブリックモードのバージョンを指定します。

 -mode5 : ファイル転送、クリップボード共有をサポートしません。古いサーバに接続するために
          指定します。
 -mode6 : ファイル転送、クリップボード共有をサポートします。

 (1) -serverオプション

 -server <server name|IP address>:<password>[:<port no>[:<host type>]]

 サーバを指定して、起動後すぐに接続します。
 (*)キーボードタイプは指定できません。.iniの設定をそのまま使います。

 host typeは、xp/vista/7/8/8.1/10 を指定します。

 (2) -recordオプション

 -record <file>

 リモート操作情報をファイルに保存します。-replayを同時に指定した場合無効となります。

 (3) -replayオプション

 -replay <file>

 リモート操作情報をファイルから読み込み、操作を再現します。

 (4) -fullscreenオプション

 -fullscreen

 フルスクリーン化します。

 (5) -version(-v)オプション

 -version (-v)

 バージョン情報を表示します。

 (6) -help(-h)オプション

 -help (-h)

 ヘルプメッセージを表示します。

 (7) -initオプション

 すべての設定を初期値に戻します。

 (8) <.ini file>

 使用する設定ファイルを指定します。拡張子は".ini"である必要はありません。
 存在しないファイルを指定した場合は、新たに作成します。

----------------------------------------------------------------------
6. 注意
----------------------------------------------------------------------

Windows版ではランタイムライブラリパッケージ

Visual C++ 2013 x86 Redistributable

が必要な場合があります。

例えば以下から入手できます。

http://www.microsoft.com/ja-jp/download/details.aspx?id=40784

----------------------------------------------------------------------
7. メッセージダイアログについて
----------------------------------------------------------------------

 (1) 「サーバのサウンドデバイスをチェックしてください！(Please check server sound device!)」

 サーバのサウンド設定の変更が必要かもしれません。
 サーバのサウンドの再生デバイスプロパティのスピーカー周波数を

 「16ビット、44100Hz(CDの音質)」

 に変更すれば改善されるかもしれません。

 (2) 「サーバとの接続に失敗しました！(Failed to connect server!)」

 サーバに接続できませんでした。
 サーバ名もしくはIPアドレスが間違えているかもしれません。

 (3) 「パスワードが違います！(Password Error!)」

 パスワードが間違えているかもしれません。

 (4) 「すでに他のクライアントが接続しています！(Already connected another client!)」

 すでにサーバに他のクライアントが接続しているかもしれません。

 (5) 「パブリックモードでサポートしていないビデオコーデックです!(Not support Video Codec!)」

 パブリックモードでサポートしていないビデオコーデックがサーバで指定されています。(*)

 brynhildr.iniでvideocodec=2(MotionJPEG)と指定もしくはvideocodec自体の指定がないことを
 確認してください。

 (*) 現在のところvideocode=0(Speed)/1(Hybrid)/3(Compress)はサポートしていません。

----------------------------------------------------------------------
8-1. 制限
----------------------------------------------------------------------

 (1) フォーカスが無い時もマウスが有効となっています。

----------------------------------------------------------------------
8-2. Windows版のみの制限
----------------------------------------------------------------------

 なし

----------------------------------------------------------------------
8-3. Linux版のみの制限
----------------------------------------------------------------------

 (1) 端末に以下のメッセージが表示されることがあります。

   「Got a buffer underflow!」

 (2) クライアントのデスクトップ以上にスケールアップしてからスケールダウンすると
     ウィンドウがアップデートされずにデスクトップの残像が残ることがあります。

 (3) デスクトップのスケールアップが一定サイズ以上できないことがあります。(x86版のみ)
     カーネルパラメータ(shmmax)を変更することで回避できますが、root権限が必要です。

 (4) ウィンドウの最大化ボタン(Maximize Button)が有効となっていますが、
     サポートしていません。

----------------------------------------------------------------------
8-4. Mac版のみの制限
----------------------------------------------------------------------

 (1) 端末から起動した場合、かなキーが反映され、端末上でIMがONになることがあります。

 (2) シフト/コントロールキーを押しながらのマウス左ボタンクリック操作が
     正しく扱えません。

----------------------------------------------------------------------
9. 不具合の報告について
----------------------------------------------------------------------

以下にお願いします。

ふんふん(FunFun) : fu.aba.dc5@gmail.com

迷惑メールと判断されないよう件名(Subject)の先頭には"[Qt Brynhildr]"を
付加するようお願いします。

件名の例)

[Qt Brynhildr] 全然動きませんけど…


提供して頂きたい情報は以下のような情報です。
分かる範囲でご記入ください。

(*) 情報共有のため、お知らせいただいたメールの内容を一部ブログで
    引用させていただくことがあるかもしれません。
    内容について非公開をご希望の方はその旨お知らせください。

(1) サーバマシン/クライアントマシンそれぞれについて

 [1] OS名

 [2] 64bit/32bit

 [3] サービスパックの適用(ServicePack/update)の有無 [Windows版のみ]

 [4] カーネルのバージョン [Linux版のみ]

 [5] 接続形態 (LAN/WAN)

 [6] メモリ容量

 [7] モニタの解像度と接続方法(D-Sub/DVI/HDMIなど)

 [8] 接続しているキーボード、マウス

(2) サーバについて

 [1] お使いのBrynhildr/Siegfriedのバージョン

 [2] 不具合発生時のlog.txtの内容
    (brynhildr.exeと同じ場所に空の"log.txt"を作成する必要があります)

(3) Qt Brynhildrについて

 [1] お使いのQt Brynhildrのバージョン

 [2] 不具合発生時のqtbrynhildr.log/keyboard.logの内容

 [3] キーボードタイプ (JP/US/Native Keyboard)

(4) 不具合内容

(5) 再現手順

----------------------------------------------------------------------
10. 変更履歴
----------------------------------------------------------------------
Ver.1.5.7 : 2016/09/05
            [不具合修正]
             ・ネットワーク通信の自動再接続処理が正常に行えない不具合追加修正(Ver.1.2.8から)

Ver.1.5.6 : 2016/08/19
            [不具合修正]
             ・ネットワーク通信の自動再接続処理が正常に行えない不具合修正(Ver.1.2.8から)

            [その他変更]
             ・Qt5.7.0でビルドするように変更(Linux(x86)版のみ5.4.2のまま)
             ・Mac版の制限事項をドキュメントに追加

Ver.1.5.5 : 2016/06/26
            [不具合修正]
             ・フレームレート制御処理の不具合修正

Ver.1.5.4 : 2016/06/21
            [不具合修正]
             ・前回接続した「サーバ名/IPアドレス」が「サーバに接続」ダイアログに残らない不具合修正
             ・マニュアル(html)のオプション(-fullscreen)の出力不具合修正

            [その他変更]
             ・実行ファイル名およびパッケージ名を"qtbrynhildr"から"QtBrynhildr"に変更
             ・ドキュメント作成ツール Sphinx をバージョンアップ(1.3.6 -> 1.4.4)

Ver.1.5.3 : 2016/06/20
            [不具合修正]
             ・環境によってサーバ接続時にステータスバーが表示されない場合がある不具合修正
             ・「サーバに接続」ダイアログで「サーバ名/IPアドレス」フィールドが空の場合でも
               「OK」ボタンが押せてしまう不具合修正

             [新規機能]
             ・サーバへのファイル送信時にすべての転送処理に対しての進捗を表示する機能を追加
               標準では無効となっているため、.iniを以下のように変更する必要がある

               onShowTotalProgressForTransferFile=true

             ・「サーバに接続」ダイアログの「ホスト名/IPアドレス」にオートコンプリート機能を追加
               保存する補完対象は初期値では10ホスト分、.iniの以下のエントリで変更可能

               serverNameListSize=10

            [その他変更]
             ・Qt5.6.1でビルドするように変更(Linux(x86)版のみ5.4.2のまま)
             ・X11環境で最大化ボタン(Maximize Button)が正常に無効化されない制限を
               ドキュメントに追加

Ver.1.5.2 : 2016/06/13
            [不具合修正]
             ・ファイル転送時にフリーズする場合がある不具合修正(ファイルサイズに依存)
             ・サポートしていないビデオコーディックがサーバ側の設定ファイルにより指定されている時に
               エラーを検出できない不具合修正
             ・サーバへ接続中に表示される通信エラーメッセージが適切でない場合がある不具合修正
               正しいパスワードで接続完了後操作中にパスワードエラーと表示されることがある

            [新規機能]
             ・起動時にフルスクリーン化する機能を追加
               起動オプション(-fullscreen)を追加
             ・「サーバに接続」ダイアログに接続時にフルスクリーン化を指定するチェックボックスを追加
             ・ファイル転送時にステータスバーに進捗を表示する機能を追加

            [その他変更]
             ・フルスクリーン時の背景余白色を黒に変更

Ver.1.5.1 : 2016/06/07
            [不具合修正]
             ・フルスクリーンモードからウィンドウモードに復帰した場合にメニューバー、
               ステータスバーの表示状態が復元されない不具合修正(Ver.1.5.0のみ)

Ver.1.5.0 : 2016/06/04
            [新規機能]
             ・パブリックモード6サポート機能(ファイル転送及びクリップボード共有)を追加

            [その他変更]
             ・Coverity Scan解析結果反映(変数初期化漏れ、メモリリーク対応など)

Ver.1.2.8 : [新規機能]
             ・「サーバから切断する」機能を追加
               メニュー項目を追加
             ・初期状態ではフルスクリーン時にメニューバーとステータスバーを非表示とするように変更
               (設定を変更することで従来の動作にも変更可能)

            [不具合修正]
             ・再接続時にフレームレート(FPSおよびデータレート)表示が異常値となる不具合修正
             ・ALTキー操作をサーバに送信できない不具合修正(アクセラレータキーを廃止)
             ・ステータスバーの表示/非表示設定が.iniファイルに保存されない不具合修正

Ver.1.2.7 : [不具合修正]
             ・英小文字 + SHIFTキー操作が不正となる不具合(SHIFTキーが効かない)修正
              (Ver.1.2.3からVer.1.2.6)
             ・"Native Keyboard"でSHIFT/CONTROL/ALTキーの操作が不正となる場合がある不具合修正
              (Windows版)

            [その他変更]
             ・英語/日本語表記の修正
             ・「About Qt Brynhildr」ダイアログのブログURLをハイパーリンクへ変更
             ・Linux(x64)版もQt5.6.0でビルドするように変更(Linux(x86)版は5.4.2のまま)

Ver.1.2.6 : [新規機能]
             ・5ボタンマウス(Middle/Back/Forward Button)(Brynhildr 2.0.4)対応

Ver.1.2.5 : [新規機能]
             ・デスクトップのキャプチャ機能追加
               メニュー項目を追加

Ver.1.2.4 : [新規機能]
             ・デスクトップ外へのマウスカーソル移動を禁止する機能を追加

            [その他変更]
             ・ドキュメント作成ツール Sphinx をバージョンアップ(1.3.1 -> 1.3.6)
             ・インストーラパッケージ作成ツールをバージョンアップ(InnoSetup 5.5.9)
              (Windows版)

Ver.1.2.3 : [不具合修正]
             ・英語キーボード(US Keyboard)で一部のキーボード操作が不正となる不具合修正
             ・サーバとクライアントで異なるキーボードタイプを指定した場合に
               キーボード操作が不正となる場合がある不具合修正
             ・日本語環境で「コントロール」メニューのアクセラレータ文字が(B)となっていた
               不具合修正((C)が正しい)

            [その他変更]
             ・Linux版以外はQt5.6.0でビルドするように変更

Ver.1.2.2 : [新規機能]
             ・Brynhildr2対応(RC3以降)
               マウスカーソルをクライアント側で表示するように変更
               ゲームパッド対応(Windows版のみ)
             ・ネイティブの仮想キーコードをそのままサーバへ送る
               "Native Keyboard"をキーボードタイプに追加(Windows版のみ)

               サーバとクライアントが同じキーボードタイプであることを条件に
               未サポートのキーボードを使うことが可能(ソフトウェア・キーボード/ボタンは無効)

             ・キーボードログを出力する機能を追加
               メニュー項目を追加

            [不具合修正]
             ・マルチモニタ環境で起動後異なるモニタへ移動させた場合にウィンドウサイズの
               管理が不適切となる不具合修正

Ver.1.2.1 : [新規機能]
             ・ログ表示ダイアログを追加
               メニュー項目を追加

            [その他変更]
             ・インストーラパッケージ作成ツールをバージョンアップ(InnoSetup 5.5.8)
              (Windows版)

            [不具合修正]
             ・タブ(Tab)キーが正しく処理されない不具合修正(Ver.1.0.0から)
             ・サーバ接続前にフルスクリーン化するとスケーリング値が不正となる不具合修正
             ・データ転送レートが整数値でしか表示されない不具合修正
             ・Brynhildr2以外の時もGamePad用の情報を設定していた不具合修正(RC1のみ)

Ver.1.2.0 : [新規機能]
             ・リモート操作のファイル記録/再生機能を追加
               メニュー項目及び起動オプションを追加
             ・ステータスバーへのフレームレート(FPSおよびデータレート)表示機能を追加
               メニュー項目を追加
             ・フルスクリーン機能を再実装
               メニュー項目を追加
             ・ソフトウェア・キーボード/ボタンのテスト実装のマージ
             ・設定を初期化する-initオプションを追加
             ・PrintScreen キー/Alt キー + PrintScreen キーを「キーを送る」に追加

            [その他変更]
             ・メニューバーの表示/非表示選択メニューを削除
               デスクトップでは常に表示、タブレットでは常に非表示
             ・ログファイルの作成先をテンポラリディレクトリ下に変更
               UNIX系環境では環境変数TMPDIR下 or /tmp下, Windows環境では%TEMP% or %TMP%下
             ・インストーラパッケージ作成ツールをバージョンアップ(InnoSetup 5.5.6)
              (Windows版)
             ・Windows 10 (x64/x86)をサポートOSに追加
             ・Mac OS X 10.10をサポートOSに追加
             ・ソースコードの配置構成整理
             ・マニュアル修正 (FAQ追加)
             ・-serverオプションにホストタイプ指定を追加
             ・Linux版以外はQt5.5.1でビルドするように変更 (ダイナミックリンク版に移行)
             ・サーバタイプの初期値を"Windows 7"から"Windows 10"に変更

            [不具合修正]
             ・UACの制御が入った時に起こる通信切断に対応していなかった不具合修正
             ・ステータスバーの文字列(接続状態およびフレームレート)表示不具合修正
             ・メニューバーにキーボード・ニーモニックが表示されない不具合修正(Windows版)
             ・ステータスバーを非表示にした時に必ずスクロールバーが表示される不具合
               (Windows10のみ)
             ・デスクトップの表示、サウンドの再生が正常にできない不具合
               (Windows版(ダイナミックリンク版):未リリース)

Ver.1.1.1 : [不具合修正]
             ・他のサウンド再生アプリケーションと同時に利用できない不具合への対応
               (Ubuntu x86版のみ)

            [その他変更]
             ・サウンド再生の安定性の確保のためQtの環境を5.5.0から5.4.2へバージョンダウン
               (*) Ver.1.1.0の[その他変更] (1), (2)は再度無効となる
             ・ドキュメント修正

Ver.1.1.0 : [新規機能]
             ・「表示」メニューを追加
             ・メニューバー表示/非表示(「表示」メニュー)
             ・ステータスバー表示/非表示(「表示」メニュー)

            [その他変更]
             ・「最前面に表示」を「表示」メニューへ移動
             ・フレームレスウィンドウ化のフラグ追加 (タッチパネルデバイス用)
             ・Qtの環境を5.4.1から5.5.0へ更新
                (1) キーボードニーモニックが正しく表示されるようになった (Windows版)
                (2) サウンドの音質のサポートが改善された
                (3) ランタイムライブラリがVisual C++ 2013に変更 (Windows版)

Ver.1.0.3 : [不具合修正]
             ・メッセージが一部正しく翻訳されない不具合修正
             ・「サーバに接続」、「デスクトップのスケーリング」ダイアログのコンテキストヘルプ
               アイコンを無効化 (Windows版)

Ver.1.0.2 : [その他変更]
             ・Dyne(0.1.0)へ対応
             ・ドキュメント小修正

Ver.1.0.1 : [不具合修正]
             ・デスクトップをスケールダウンしてスクロールバーが不要となる場合でも必ず
               スクロールバーが表示される不具合修正 (Windows 7のみ)
             ・インストーラが作成するショートカット名が一部日本語固定となる不具合修正
               (Windows版)

            [その他変更]
             ・ログ出力項目追加(サウンドのサンプリング周波数に関するログ)

Ver.1.0.0 : 正式リリース (Windows版/Ubuntu版)

====================================================
 変更履歴 (正式リリース前)
====================================================

Ver.1.00 : [新規機能] (正式バージョン番号:1.0.0)
            ・なし

           [デフォルト動作変更]
            ・不明なオプション指定に対してエラーとするように変更

           [その他変更]
            ・インストールフォルダ構成変更 (Windows版)

           [不具合修正]
            ・なし

Ver.0.99 : [新規機能]
            ・なし

           [デフォルト動作変更]
            ・なし

           [その他変更]
            ・Sphinxによるhtmlマニュアル(作成途中)のテスト同梱

           [不具合修正]
            ・デスクトップをスケールアップしていくとデスクトップ画像データサイズがshmmaxを
              超えた場合にスケールが等倍に戻る不具合修正(Ubuntu x86版のみ)

Ver.0.98 : [新規機能]
            ・なし

           [デフォルト動作変更]
            ・なし

           [その他変更]
            ・Visual C++ 2010 x86 Redistributableの同梱を廃止 (Windows版)
            ・アイコンイメージ変更

           [不具合修正]
            ・.iniファイルを指定した場合に設定情報(内部情報を含む)が不正となり
              正しく動作しない不具合修正
            ・接続ダイアログで変更したポート番号が次回反映されない不具合修正
            ・ローカルバッファ・オーバーフローの可能性のある不具合修正
            ・デバッグログの削除を忘れていたのを修正

Ver.0.97 : [新規機能]
            ・スクロールモードの正式追加

           [デフォルト動作変更]
            ・最大フレームレートの初期値をMaximumから30に変更
            ・接続リトライを中止して、再接続または終了できるように変更

           [その他変更]
            ・ログファイル出力項目追加(最後の接続の平均フレームレート)

           [不具合修正]
            ・デスクトップ表示サイズがクライアントPCのデスクトップサイズを超え、
              スクロールバーが表示された状態で終了した後再起動するとスクロールバーが
              表示されない不具合修正
            ・「サーバに接続」ダイアログでパスワード文字数の制限(16文字)より多く文字が
              入力可能な不具合修正(-serverオプションでのパスワード指定も同様)

Ver.0.96 : [新規機能]
            ・スクロールモードの追加(テスト中)

           [デフォルト動作変更]
            ・グラフィックスをOFFにした場合にコントロールも同時にOFFにするように変更

           [その他変更]
            ・ログファイル出力項目追加

           [不具合修正]
            ・ネットワークエラーが発生した場合にエラーの要因を正しく判断できない不具合修正
            ・デスクトップをスケールアップしていくとデスクトップ画像データサイズが32MBを
              超えた場合にクラッシュする不具合修正(Ubuntu x86版のみ)
            ・デスクトップをスケールアップした後スケールダウンした時にスケールダウン前の
              デスクトップの残像が発生する不具合修正(Ubuntu版のみ)
            ・「常に最前面に表示」を選択するとウィンドウが上に移動する不具合修正
              (Ubuntu版のみ)[Qtの不具合か?]
            ・サーバ接続時に失敗することがある不具合修正

Ver.0.95 : [新規機能]
            ・なし

           [デフォルト動作変更]
            ・ネットワークエラーが発生した場合に複数回同じメッセージダイアログが
              表示されないように変更
            ・フルスクリーン機能を暫定で無効化

           [不具合修正]
            ・-serverオプションが有効にならない不具合修正
            ・-debugオプションが設定に反映されない不具合修正
            ・終了時に確認ダイアログを表示するか否かの設定が保存されない不具合修正
            ・オプション解析が不適切で起動時に不正なファイルが生成される不具合修正
            ・接続切断時にデスクトップがクリアされない不具合修正
            ・接続済みのサーバに再接続する場合に「すでに他のクライアントが接続済み」となり
              接続に失敗する不具合修正

Ver.0.94 : [新規機能]
            ・フレームレート指定メニュー追加(5,10,20,30,40,50,60,Maximum)
            ・フルスクリーン化機能
            ・「常に最前面に表示」機能
            ・.iniファイルの引数指定機能
            ・起動オプション公開

           [デフォルト動作変更]
            ・ロケールでキーボードタイプの初期値を設定するように変更
            ・ネットワークエラー発生時にデスクトップをクリアするように変更

           [その他変更]
            ・レジストリ使用を廃止(.iniへ変更)
            ・メニューの構成を変更
            ・ウィンドウの高さ計算の改善
            ・qtbrynhildr.exeのリソース情報を設定(Windows版)

           [不具合修正]
            ・すでにサーバが他のクライアントと接続済みの場合に接続エラーとならない不具合修正

Ver.0.93 : [新規機能]
            ・マルチモニタ対応
            ・フレームレート指定(=サーバ負荷調整と同等)
              (FPS値指定のための設定インタフェースは検討中)

           [設定フラグ追加] : 設定インタフェースは検討中
            ・終了時の確認ダイアログの表示/非表示を指定するフラグを追加(デフォルトは表示)
            ・サーバ側での操作の許可/不許可を指定するフラグを追加(デフォルトは許可)
              (Ver.0.27の修正ミスでVer.0.92まで挙動が変わってしまっていた…Ver.0.26では
              サーバ側でも操作可能だった)

           [デフォルト動作変更]
            ・サーバ接続時にデスクトップサイズを自動調整する動作をデフォルト動作に変更
            ・サーバ接続時にデスクトップをクリアするように変更

           [その他変更]
            ・メニュー項目の有効化/無効化の制御を追加

           [不具合修正]
            ・実際に接続に成功していない場合でもステータスバーが"connected : xxxxx"となる
              不具合修正
               (1) パスワードが不正の場合
               (2) LAN(同じネットマスク内)のIPで存在しないIPを指定した場合

Ver.0.92 : 接続中に別のサーバもしくは同じサーバに接続しようとした場合フリーズする不具合修正
           実際に接続に成功していない場合でもステータスバーが"connected : xxxxx"となる不具合修正

Ver.0.91 : ウィンドウアイコンの暫定設定、レジストリの削除機能の修正及び暫定英語版対応
          (インストーラ:Windows)

Ver.0.90 : βテストバージョン

Ver.0.28 : サーバ側でのスケーリング機能追加

Ver.0.27 : クライアント側でのスケーリング機能およびスクロール機能追加

Ver.0.26 : αテストバージョン (デスクトップサイズ固定)

----------------------------------------------------------------------
11. 情報へのリンク
----------------------------------------------------------------------

(1) Brynhildr/Siegfriedに関するページ

 [1] 原作者IchiGekiさんのブログ

 「リモートデスクトップを開発してるエンジニアのブログ。」: http://blog.x-row.net/

 [2] Brynhildr/Siegfriedのページ

 「Brynhildr - 高速度型リモートデスクトップ」: http://blog.x-row.net/?p=2455

 「Siegfried - 高圧縮型リモートデスクトップ」: http://blog.x-row.net/?p=7879

 (*) SiegfriedとBrynhildrはBrynhildr2に統合されました。(2016/03/14)

  「Brynhildr「2.0.0」リリース」: http://blog.x-row.net/?p=11297

(2) パブリックモード、クライアントサンプルソースに関するページ

 パブリックモードに関する記事があります。
 また、Visual StudioでビルドできるWindows向けのクライアントサンプル
 ソースコードが入手できます。

「週刊ブリュンヒルデ創刊号。」: http://blog.x-row.net/?p=5841

「ブリュンヒルデ零式。」      : http://blog.x-row.net/?p=6818

「ブリュンヒルデ零式改。」    : http://blog.x-row.net/?p=6911

「ブリュンヒルデ零式改弐」    : http://blog.x-row.net/?p=10682

「ブリュンヒルデ零式改参」    : http://blog.x-row.net/?p=11892

 (*) 1番下のURL(↑)からダウンロードできるソースコードが最新です。

(3) Qt Projectのページ

 http://www.qt.io/

----------------------------------------------------------------------
12. 謝辞
----------------------------------------------------------------------

有用なソフトウェアを公開して頂き、また仕様公開して頂いたIchiGekiさんに
感謝します。

また有用なツール、ライブラリを提供くださるQt Projectに感謝します。

最後にGNU, MinGW, Cygwinなどフリーなソフトウェアを提供くださる
すべての方々に感謝します。

----------------------------------------------------------------------

開発日誌は以下のページにあります。
(内容は開発過程に興味のある方向けです）

http://mcz-xoxo.cocolog-nifty.com/blog/

ソースコードは以下で公開しています。

https://github.com/funfun-dc5/qtbrynhildr.git

Coverity Scanの解析結果は以下で見られます。

https://scan.coverity.com/projects/qt-brynhildr

----------------------------------------------------------------------

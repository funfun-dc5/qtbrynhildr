#!/bin/bash
UNAME=`uname`
UNAMEM=`uname -m`
PRO="qtbrynhildr.pro"

source ./setup_qt5 $1

./clean
rm -f Makefile Makefile.Release Makefile.Debug
${QTROOT}/bin/qmake ${PRO}

case $UNAME in
	CYGWIN*)
		chmod 644 Makefile
		if [ -e Makefile.Release ]; then
			chmod 644 Makefile.Release
		fi
		if [ -e Makefile.Debug ]; then
			chmod 644 Makefile.Debug
		fi
		echo "setup : Done."
		;;
	Linux)
		echo "setup : Done."
		;;
	FreeBSD)
		echo "setup : Done."
		;;
	Darwin)
		echo "setup : Done."
		;;
	*)
		echo "setup : Not support platform."
		;;
esac

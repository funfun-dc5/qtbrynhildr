.. -*- mode: rst; coding: utf-8-unix -*-

変更履歴
=======================

Ver.1.6.4
----------------
* [その他変更]

 1. MSVC2015でビルドするための修正

 2. キーボード・レイアウトの外部ファイル化のための準備用変更

Ver.1.6.3
----------------
* [不具合修正]

 1. ソフトウェア・キーボード(新規)のシフトキーの動作不正修正

 2. デスクトップのキャプチャ機能を無効にしてビルドした場合にサーバ接続後不正終了する不具合修正

 3. ソフトウェア・キーボード(新規)のバックスラッシュ記号と円記号の表示に関する暫定対処

 4. 物理キーボードのメディア・ボタンの再生停止ボタンの動作不正修正

    次トラックボタンになっていた

* [その他変更]

 1. ソフトウェア・キーボード/ボタン(新規)の動作改善

 2. KeroKeyboardを手本とした新規のソフトウェア・キーボード/ボタンへ移行

   旧ソフトウェア・キーボード/ボタン関連のファイルを削除

 3. Android/iOSサポート準備用の小変更

 4. キーボード・レイアウトの外部ファイル化のための準備用変更

Ver.1.6.2
----------------
* [不具合修正]

 1. フルスクリーンモードのまま終了(ALT-F4などで)すると次回起動時にメニュー/ステータスバーが非表示となる不具合修正

 2. アプリケーションウィンドウにメニューバーが存在しない場合にデスクトップサイズの制御が不正となる不具合修正

 3. ソフトウェア・キーボード/ボタンパネルをドックの'X'ボタンで非表示にした場合に「表示」メニューのチェックが不正となる不具合

 4. ソフトウェア・キーボードのキートップ文字列の修正('&')

 5. 終了時にコアダンプする場合がある不具合修正

* [その他変更]

 1. 終了メニュー項目の削除(Mac版のみ)

 2. ソフトウェア・キーボードのキートップ文字列の小変更

   "ESC" -> "Esc","RET" -> "Enter"

 3. Qt5.8.0でビルドするように変更(Linux(x86)版のみ5.4.2のまま)

 4. デバッグ出力の整理

 5. KeroKeyboardを手本とした新規のソフトウェア・キーボード/ボタンのテスト実装を追加

Ver.1.6.1
----------------
* [不具合修正]

 1. Brynhildrサーバのバージョンが1.1.5以下の時CELTを指定すると不正となる不具合

 2. onDisableBrynhildr2Support=falseを指定してもCELT指定が有効となる不具合修正

Ver.1.6.0
----------------
* [新規機能]

 1. CELTによるサウンドデータ転送サポートを追加(-celtオプション)

* [その他変更]

 1. ドキュメントの修正漏れを修正

Ver.1.5.9
----------------
* [不具合修正]

 1. パスワード間違いなどで接続できなかった場合にメニュー制御が不正となる不具合修正

 2. 2GB以上のファイルを送受信しようとすると失敗した後接続が切断される不具合修正

 3. ファイル転送時の進捗表示が不正となる不具合修正

* [新規機能]

 1. プラグインを無効化する機能の追加(Brynhildr 2.2.1相当)

 2. ファイル転送をキャンセルする機能の追加(Brynhildr 2.2.1相当)

* [その他変更]

 1. メニュー文字列の一部変更(日本語のみ)

Ver.1.5.8
----------------
* [不具合修正]

 1. 終了時に警告メッセージが出力されたり、コアダンプする場合がある不具合修正

 2. ネットワーク通信の自動再接続後にフルスクリーン状態が復帰されないことがある不具合修正

 3. ネットワーク通信の自動再接続後にサウンドが再生されない不具合修正

 4. ネットワーク通信の自動再接続処理の改善

 5. 最初の起動時に-initオプションを指定すると不正終了する不具合修正

* [その他変更]

 1. ネットワーク通信の自動再接続試行時に画面クリアしないように変更

 2. 最大化ボタン(Maximize Button)に対応(アスペクト比保存の調整がまだ…)

 3. 起動時に「サーバに接続」ダイアログをポップアップするように変更(変更可)

 4. ドキュメントのMac版の制限の条件(Control+クリック)を修正

 5. Ubuntuで提供されているQt5パッケージを利用したビルドに対応

Ver.1.5.7
----------------
* [不具合修正]

 1. ネットワーク通信の自動再接続処理が正常に行えない不具合追加修正(Ver.1.2.8から)

Ver.1.5.6
----------------
* [不具合修正]

 1. ネットワーク通信の自動再接続処理が正常に行えない不具合修正(Ver.1.2.8から)

* [その他変更]

 1. Qt5.7.0でビルドするように変更(Linux(x86)版のみ5.4.2のまま)

 2. Mac版の制限事項をドキュメントに追加

Ver.1.5.5
----------------
* [不具合修正]

 1. フレームレート制御処理の不具合修正

Ver.1.5.4
----------------
* [不具合修正]

 1. 前回接続した「サーバ名/IPアドレス」が「サーバに接続」ダイアログに残らない不具合修正

 2. マニュアル(html)のオプション(-fullscreen)の出力不具合修正

* [その他変更]

 1. 実行ファイル名およびパッケージ名を"qtbrynhildr"から"QtBrynhildr"に変更

 2. ドキュメント作成ツール Sphinx をバージョンアップ(1.3.6 -> 1.4.4)

Ver.1.5.3
----------------
* [不具合修正]

 1. 環境によってサーバ接続時にステータスバーが表示されない場合がある不具合修正

 2. 「サーバに接続」ダイアログで「サーバ名/IPアドレス」フィールドが空の場合でも「OK」ボタンが押せてしまう不具合修正

* [新規機能]

 1. サーバへのファイル送信時にすべての転送処理に対しての進捗を表示する機能を追加

    標準では無効となっているため、.iniを以下のように変更する必要がある

    onShowTotalProgressForTransferFile=true

 2. 「サーバに接続」ダイアログの「ホスト名/IPアドレス」にオートコンプリート機能を追加

   保存する補完対象は初期値では10ホスト分、.iniの以下のエントリで変更可能

   serverNameListSize=10

* [その他変更]

 1. Qt5.6.1でビルドするように変更(Linux(x86)版のみ5.4.2のまま)

 2. X11環境で最大化ボタン(Maximize Button)が正常に無効化されない制限をドキュメントに追加

Ver.1.5.2
----------------
* [新規機能]

 1. 起動時にフルスクリーン化する機能を追加

   起動オプション(-fullscreen)を追加

 2. 「サーバに接続」ダイアログに接続時にフルスクリーン化を指定するチェックボックスを追加

* [不具合修正]

 1. ファイル転送時にフリーズする場合がある不具合修正(ファイルサイズに依存)

 2. サポートしていないビデオコーディックがサーバ側の設定ファイルにより指定されている時にエラーを検出できない不具合修正

 3. サーバへ接続中に表示される通信エラーメッセージが適切でない場合がある不具合修正

   正しいパスワードで接続完了後操作中にパスワードエラーと表示されることがある

* [その他変更]

 1. フルスクリーン時の背景余白色を黒に変更

Ver.1.5.1
----------------
* [不具合修正]

 1. フルスクリーンモードからウィンドウモードに復帰した場合にメニューバー、ステータスバーの表示状態が復元されない不具合修正(Ver.1.5.0のみ)

Ver.1.5.0
----------------
* [新規機能]

 1. パブリックモード6サポート機能(ファイル転送及びクリップボード共有)を追加

* [その他変更]

 1. Coverity Scan解析結果反映(変数初期化漏れ、メモリリーク対応など)

Ver.1.2.8
----------------
* [新規機能]

 1. 「サーバから切断する」機能を追加

   メニュー項目を追加

 2. 初期状態ではフルスクリーン時にメニューバーとステータスバーを非表示とするように変更

   設定を変更することで従来の動作にも変更可能

* [不具合修正]

 1. 再接続時にフレームレート(FPSおよびデータレート)表示が異常値となる不具合修正

 2. ALTキー操作をサーバに送信できない不具合修正(アクセラレータキーを廃止)

 3. ステータスバーの表示/非表示設定が.iniファイルに保存されない不具合修正

Ver.1.2.7
----------------
* [不具合修正]

 1. 英小文字 + SHIFTキー操作が不正となる不具合(SHIFTキーが効かない)修正(Ver.1.2.3からVer.1.2.6)

 2. "Native Keyboard"でSHIFT/CONTROL/ALTキーの操作が不正となる場合がある不具合修正(Windows版)

* [その他変更]

 1. 英語/日本語表記の修正

 2. 「About Qt Brynhildr」ダイアログのブログURLをハイパーリンクへ変更

 3. Linux(x64)版もQt5.6.0でビルドするように変更(Linux(x86)版は5.4.2のまま)

Ver.1.2.6
----------------
* [新規機能]

 1. 5ボタンマウス(Middle/Back/Forward Button)(Brynhildr 2.0.4)対応

Ver.1.2.5
----------------
* [新規機能]

 1. デスクトップのキャプチャ機能追加

   メニュー項目を追加

Ver.1.2.4
----------------
* [新規機能]

 1. デスクトップ外へのマウスカーソル移動を禁止する機能を追加

* [その他変更]

 1. ドキュメント作成ツール Sphinx をバージョンアップ(1.3.1 -> 1.3.6)

 2. インストーラパッケージ作成ツールをバージョンアップ(InnoSetup 5.5.9)(Windows版)

Ver.1.2.3
----------------
* [不具合修正]

 1. 英語キーボード(US Keyboard)で一部のキーボード操作が不正となる不具合修正

 2. サーバとクライアントで異なるキーボードタイプを指定した場合にキーボード操作が不正となる場合がある不具合修正

 3. 日本語環境で「コントロール」メニューのアクセラレータ文字が(B)となっていた不具合修正((C)が正しい)

* [その他変更]

 1. Linux版以外はQt5.6.0でビルドするように変更

Ver.1.2.2
----------------
* [新規機能]

 1. Brynhildr2対応(RC3以降)

   マウスカーソル描画をクライアント側へ

   ゲームパッド対応(Windows版のみ)

 2. ネイティブの仮想キーコードをそのままサーバへ送る"Native Keyboard"をキーボードタイプに追加(Windows版のみ)

    サーバとクライアントが同じキーボードタイプであることを条件に未サポートのキーボードを使うことが可能。
    ただし、ソフトウェア・キーボード/ボタンは無効となる

 3. キーボードログを出力する機能を追加

    メニュー項目を追加

* [不具合修正]

 1. マルチモニタ環境で起動後異なるモニタへ移動させた場合にウィンドウサイズの管理が不適切となる不具合修正

Ver.1.2.1
---------
* [新規機能]

 1. ログ表示ダイアログを追加

   メニュー項目を追加

* [その他変更]

 1. インストーラパッケージ作成ツールをバージョンアップ(InnoSetup 5.5.8)(Windows版)

* [不具合修正]

 1. タブ(Tab)キーが正しく処理されない不具合修正(Ver.1.0.0から)

 2. サーバ接続前にフルスクリーン化するとスケーリング値が不正となる不具合修正

 3. データ転送レートが整数値でしか表示されない不具合修正

 4. Brynhildr2以外の時もGamePad用の情報を設定していた不具合修正(RC1のみ)

Ver.1.2.0
---------

* [新規機能]

 1. リモート操作のファイル記録/再生機能を追加

   メニュー項目及び起動オプションを追加

 2. ステータスバーへのフレームレート(FPSおよびデータレート)表示機能を追加

   メニュー項目を追加

 3. フルスクリーン機能を再実装

   メニュー項目を追加

 4. ソフトウェア・キーボード/ボタンのテスト実装のマージ

 5. 設定を初期化する-initオプションを追加

 6. PrintScreen キー/Alt キー + PrintScreen キーを「キーを送る」に追加

* [その他変更]

 1. メニューバーの表示/非表示選択メニューを削除

    デスクトップでは常に表示、タブレットでは常に非表示

 2. ログファイルの作成先をテンポラリディレクトリ下に変更

    UNIX系環境では環境変数TMPDIR下 or /tmp下, Windows環境では%TEMP% or %TMP%下

 3. インストーラパッケージ作成ツールをバージョンアップ(InnoSetup 5.5.6) (Windows版)

 4. Windows 10 (x64/x86)をサポートOSに追加

 5. MacOSX対応用の暫定修正

 6. ソースコードの配置構成整理

 7. マニュアル修正 (FAQ追加)

 8. -serverオプションにホストタイプ指定を追加

 9. Linux版以外はQt5.5.1でビルドするように変更 (ダイナミックリンク版に移行)

10. サーバタイプの初期値を"Windows 7"から"Windows 10"に変更

* [不具合修正]

 1. UACの制御が入った時に起こる通信切断に対応していなかった不具合修正

 2. ステータスバーの文字列(接続状態およびフレームレート)表示不具合修正

 3. メニューバーにキーボード・ニーモニックが表示されない不具合修正(Windows版)

 4. ステータスバーを非表示にした時に必ずスクロールバーが表示される不具合(Windows10のみ)

 5. デスクトップの表示、サウンドの再生が正常にできない不具合(Windows版(ダイナミックリンク版))

Ver.1.1.1
---------

* [不具合修正]

 1. 他のサウンド再生アプリケーションと同時に利用できない不具合への対応
    (Ubuntu x86版のみ)

* [その他変更]

 1. サウンド再生の安定性の確保のためQtの環境を5.5.0から5.4.2へバージョンダウン

   (*) Ver.1.1.0の[その他変更]の改善は再度無効となる

 2. ドキュメント修正

Ver.1.1.0
---------

* [新規機能]

 1. 「表示」メニューを追加
 2. メニューバー表示/非表示(「表示」メニュー)
 3. ステータスバー表示/非表示(「表示」メニュー)

* [その他変更]

 1. 「最前面に表示」を「表示」メニューへ移動
 2. フレームレスウィンドウ化のフラグ追加 (タッチパネルデバイス用)
 3. Qtの環境を5.4.1から5.5.0へ更新

   * キーボードニーモニックが正しく表示されるようになった
   * サウンドの音質のサポートが改善された
   * ランタイムライブラリが **Visual C++ 2013** に変更 (Windows版)

Ver.1.0.3
---------

* [不具合修正]

 1. メッセージが一部正しく翻訳されない不具合修正
 2. 「サーバに接続」、「デスクトップのスケーリング」ダイアログのコンテキストヘルプアイコンを無効化 (Windows版)

Ver.1.0.2
---------

* [その他変更]

 1. Dyne(0.1.0)へ対応
 2. ドキュメント小修正

Ver.1.0.1
---------

* [不具合修正]

 1. デスクトップをスケールダウンしてスクロールバーが不要となる場合でも必ず
    スクロールバーが表示される不具合修正 (Windows 7のみ)

 2. インストーラが作成するショートカット名が一部日本語固定となる不具合修正 (Windows版)

* [その他変更]

 1. ログ出力項目追加(サウンドのサンプリング周波数に関するログ)

Ver.1.0.0
---------

* 正式リリース (Windows版/Ubuntu版)

正式リリース前の履歴
--------------------
| Ver.1.00 : [新規機能] (正式バージョン番号:1.0.0)
|             ・なし
| 
|            [デフォルト動作変更]
|             ・不明なオプション指定に対してエラーとするように変更
| 
|            [その他変更]
|             ・インストールフォルダ構成変更 (Windows版)
| 
|            [不具合修正]
|             ・なし
| 
| Ver.0.99
|            [新規機能]
|             ・なし
|
|            [デフォルト動作変更]
|             ・なし
|
|            [その他変更]
|             ・なし
|
|            [不具合修正]
|             ・デスクトップをスケールアップしていくとデスクトップ画像データサイズがshmmaxを
|               超えた場合にスケールが等倍に戻る不具合修正(Ubuntu x86版のみ)
|
| Ver.0.98
|           [新規機能]
|            ・なし
|
|           [デフォルト動作変更]
|            ・なし
|
|           [その他変更]
|            ・Visual C++ 2010 x86 Redistributableの同梱を廃止 (Windows版)
|            ・アイコンイメージ変更
|
|           [不具合修正]
|            ・.iniファイルを指定した場合に設定情報(内部情報を含む)が不正となり
|              正しく動作しない不具合修正
|            ・接続ダイアログで変更したポート番号が次回反映されない不具合修正
|            ・ローカルバッファ・オーバーフローの可能性のある不具合修正
|            ・デバッグログの削除を忘れていたのを修正
|
| Ver.0.97
|           [新規機能]
|            ・スクロールモードの正式追加
|
|           [デフォルト動作変更]
|            ・最大フレームレートの初期値をMaximumから30に変更
|            ・接続リトライを中止して、再接続または終了できるように変更
|
|           [その他変更]
|            ・ログファイル出力項目追加(最後の接続の平均フレームレート)
|
|           [不具合修正]
|            ・デスクトップ表示サイズがクライアントPCのデスクトップサイズを超え、
|              スクロールバーが表示された状態で終了した後再起動するとスクロールバーが
|              表示されない不具合修正
|            ・「サーバに接続」ダイアログでパスワード文字数の制限(16文字)より多く文字が
|              入力可能な不具合修正(-serverオプションでのパスワード指定も同様)
|
| Ver.0.96
|           [新規機能]
|            ・スクロールモードの追加(テスト中)
|
|           [デフォルト動作変更]
|            ・グラフィックスをOFFにした場合にコントロールも同時にOFFにするように変更
|
|           [その他変更]
|            ・ログファイル出力項目追加
|
|           [不具合修正]
|            ・ネットワークエラーが発生した場合にエラーの要因を正しく判断できない不具合修正
|            ・デスクトップをスケールアップしていくとデスクトップ画像データサイズが32MBを
|              超えた場合にクラッシュする不具合修正(Ubuntu x86版のみ)
|            ・デスクトップをスケールアップした後スケールダウンした時にスケールダウン前の
|              デスクトップの残像が発生する不具合修正(Ubuntu版のみ)
|            ・「常に最前面に表示」を選択するとウィンドウが上に移動する不具合修正
|              (Ubuntu版のみ)[Qtの不具合か?]
|            ・サーバ接続時に失敗することがある不具合修正
|
| Ver.0.95
|           [新規機能]
|            ・なし
|
|           [デフォルト動作変更]
|            ・ネットワークエラーが発生した場合に複数回同じメッセージダイアログが
|              表示されないように変更
|            ・フルスクリーン機能を暫定で無効化
|
|           [不具合修正]
|            ・-serverオプションが有効にならない不具合修正
|            ・-debugオプションが設定に反映されない不具合修正
|            ・終了時に確認ダイアログを表示するか否かの設定が保存されない不具合修正
|            ・オプション解析が不適切で起動時に不正なファイルが生成される不具合修正
|            ・接続切断時にデスクトップがクリアされない不具合修正
|            ・接続済みのサーバに再接続する場合に「すでに他のクライアントが接続済み」となり
|              接続に失敗する不具合修正
|
| Ver.0.94
|           [新規機能]
|            ・フレームレート指定メニュー追加(5,10,20,30,40,50,60,Maximum)
|            ・フルスクリーン化機能
|            ・「常に最前面に表示」機能
|            ・.iniファイルの引数指定機能
|            ・起動オプション公開
|
|           [デフォルト動作変更]
|            ・ロケールでキーボードタイプの初期値を設定するように変更
|            ・ネットワークエラー発生時にデスクトップをクリアするように変更
|
|           [その他変更]
|            ・レジストリ使用を廃止(.iniへ変更)
|            ・メニューの構成を変更
|            ・ウィンドウの高さ計算の改善
|            ・qtbrynhildr.exeのリソース情報を設定(Windows版)
|
|           [不具合修正]
|            ・すでにサーバが他のクライアントと接続済みの場合に接続エラーとならない不具合修正
|
| Ver.0.93
|           [新規機能]
|            ・マルチモニタ対応
|            ・フレームレート指定(=サーバ負荷調整と同等)
|              (FPS値指定のための設定インタフェースは検討中)
|
|           [設定フラグ追加] : 設定インタフェースは検討中
|            ・終了時の確認ダイアログの表示/非表示を指定するフラグを追加(デフォルトは表示)
|            ・サーバ側での操作の許可/不許可を指定するフラグを追加(デフォルトは許可)
|              (Ver.0.27の修正ミスでVer.0.92まで挙動が変わってしまっていた…Ver.0.26では
|              サーバ側でも操作可能だった)
|
|           [デフォルト動作変更]
|            ・サーバ接続時にデスクトップサイズを自動調整する動作をデフォルト動作に変更
|            ・サーバ接続時にデスクトップをクリアするように変更
|
|           [その他変更]
|            ・メニュー項目の有効化/無効化の制御を追加
|
|           [不具合修正]
|            ・実際に接続に成功していない場合でもステータスバーが"connected : xxxxx"となる
|              不具合修正
|               (1) パスワードが不正の場合
|               (2) LAN(同じネットマスク内)のIPで存在しないIPを指定した場合
|
| Ver.0.92
|           接続中に別のサーバもしくは同じサーバに接続しようとした場合フリーズする不具合修正
|           実際に接続に成功していない場合でもステータスバーが"connected : xxxxx"となる不具合修正
|
| Ver.0.91
|           ウィンドウアイコンの暫定設定、レジストリの削除機能の修正及び暫定英語版対応
|           (インストーラ:Windows)
|
| Ver.0.90
|           βテストバージョン
|
| Ver.0.28
|           サーバ側でのスケーリング機能追加
|
| Ver.0.27
|           クライアント側でのスケーリング機能およびスクロール機能追加
|
| Ver.0.26
|           αテストバージョン (デスクトップサイズ固定)

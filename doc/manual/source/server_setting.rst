.. -*- mode: rst; coding: utf-8-unix -*-

サーバのインストールと設定
==========================

1. ダウンロード
---------------

 IchiGekiさんのブログの以下のページからBrynhildrの最新版をダウンロードして下さい。
 現在はzipファイルの形で提供されています。

 「Brynhildr – 高速度型リモートデスクトップ」  <http://blog.x-row.net/?p=2455>

 Downloadのところにリンクがあります。特に理由がない限り最新版(一番上のリンク)を
 ダウンロードしてください。

2. インストール
---------------

 ダウンロードしたzipファイルをサーバPCの任意のフォルダ [#]_ に展開してください。
 brynhildrフォルダの下に以下のようなファイルが現れます。 [#]_ ::

  brynhildr.exe
  brynhildr.dll
  readme.txt

 .. [#] Program Files の下に展開するといろいろ面倒かもしれません。

 .. [#] 設定ファイルである *brynhildr.ini* は最初の起動時に作成されますので、
         この時点では存在しません。

3. 起動と設定
---------------

(1) BrynhildrをServerModeで起動 [#]_
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

 サーバPCでbrynhildr.exeを通常のアプリケーションとして起動します。
 管理者権限を持たない場合は **「管理者として実行」** してください。
 例えばエクスプローラ上ならbrynhildr.exeを右クリックし、「管理者として実行(A)」を
 選択します。


 .. image:: images/brynhildr_at_first_boot.png

 下記の各項目を設定し、「OK」ボタンを押します。
 IP, Port, Passwordはクライアントから接続する時に必要なので、覚えておくか、こっそりメモしてください。

 * Mode

  **「ServerMode」** を選択します。

 * IP

  *IPアドレス* はクライアントを接続する時に必要なのでどこかにメモしておいてください。
  *ホスト名* で管理されている場合は、 *IPアドレス* の代わりに *ホスト名* でもサーバPCを指定できます。

 * Port

  クライアントの接続時に指定するためのポート番号を指定します。
  特に理由がなければ初期設定(55,500番)でよいと思います。

 * Password

  クライアントの接続時に指定するためのパスワードを指定します。
  パブリックモードで利用するためには16文字以下にする必要があります。

 * Control

  サーバPCをコントロールする場合は **「On」** を選択します。
  コントロールしない(デスクトップを観察するだけの)場合は **「Off」** を選択します。

 * Service

  システムのサービスへの登録/削除が可能です。
  サービスに登録することでログイン画面などの操作が可能となります。 [#]_


 .. [#] サーバに対して様々な設定が可能ですが、設定を行うためには *brynhildr.ini*
        というファイルをbrynhildr.exeと同じフォルダに配置する必要があります。
        *brynhildr.ini* は、最初の起動時に自動的に作成されますので、
        設定を変更したい場合は、一度起動後に作成された *brynhildr.ini* を編集することを
        お勧めします。

 .. [#] 管理者権限なしで起動した場合この項目は変更できません。
        一度終了し、再度 **「管理者として実行」** し直してください。


(2) サーバの詳細設定
^^^^^^^^^^^^^^^^^^^^

 サーバの詳細な振る舞いは **brynhildr.ini** ファイルで指定できます。
 **brynhildr..ini** ファイルは通常のテキストファイルなので、エディタで編集することで
 設定を変更できます。

 **.ini** ファイルを編集、保存後にサーバを起動(もしくは再起動)する必要があります。
 詳細な設定及びその初期値の情報はサーバのブログページを参照してください。


(3) パブリックモードの有効化の確認
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

 **brynhildr.ini** の **[ServerMode]** セクションに以下の記述があることを確認して下さい。

 publicmode=1

 publicmode=0となっていた場合は一旦サーバを終了させた後メモ帳もしくは任意のエディタで
 **brynhildr.ini** を変更してから再起動してください。
